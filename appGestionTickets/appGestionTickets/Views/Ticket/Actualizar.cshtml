@model appGestionTickets.ViewModels.TicketViewModel
@{
    ViewBag.Title = "Actualizar";
}

<h2>Actualizar Ticket</h2>

<h2>
    <a style="float:right; color:lightsteelblue" href="@Url.Action("Index","Ticket")"><i class="fas fa-arrow-circle-left"></i></a>
    Nuevo Ticket
</h2>

@using (Html.BeginForm("Actualizar", "Ticket", FormMethod.Post))
{
    <div class="form-group">
        <label>Ticket</label>
        @Html.TextBoxFor(m => m.Ticket.IdTicket, new { @class = "form-control", @required = "required",@readonly="readonly"  })
    </div>

    <div class="form-group">
        <label>Fecha Generación</label>
        @Html.TextBoxFor(m => m.Ticket.FechaGeneracion, new { @class = "form-control", @required = "required", @type = "date" })
    </div>

    <div class="form-group">
        <label>Estado</label>
        @*@Html.TextBoxFor(m => m.Ticket.IdEstado, new { @class = "form-control", @required = "required"})*@
        <select name="Ticket.IdEstado" class="form-control" required>
            <option value="">Seleccione...</option>
            @foreach (var item in Model.lstEstados)
            {
                <option value="@item.IdEstado" @(item.IdEstado== Model.Ticket.IdEstado? "selected" : "") >@item.Nombre</option>
            }
        </select>
    </div>

    <div class="form-group">
        <label>Usuario</label>
        @* @Html.TextBoxFor(m => m.Ticket.IdUsuario, new { @class = "form-control", @required = "required" })*@
        <select name="Ticket.IdUsuario" class="form-control" required>
            <option value="">Seleccione...</option>
            @foreach (var item in Model.lstUsuarios)
            {
                <option value="@item.IdUsuario" @(item.IdUsuario == Model.Ticket.IdUsuario ? "selected":"")>@item.Nombres</option>
            }
        </select>
    </div>

    <div class="form-group">
        <label>Descripcion</label>
        @Html.TextBoxFor(m => m.Ticket.Descripcion, new { @class = "form-control", @required = "required" })
    </div>

    <div class="form-group">
        <label>Responsable</label>
        @*@Html.TextBoxFor(m => m.Ticket.IdResponsable, new { @class = "form-control", @required = "required" })*@
        <select name="Ticket.IdResponsable" class="form-control" required>
            <option value="">Seleccione...</option>
            @foreach (var item in Model.lstResponsables)
            {
                <option value="@item.IdResponsable" @(item.IdResponsable == Model.Ticket.IdResponsable ? "selected" : "") >@item.Nombres</option>
            }
        </select>
    </div>

    <div class="form-group">
        <input type="submit" value="Guardar" class="btn btn-success" />
    </div>
}